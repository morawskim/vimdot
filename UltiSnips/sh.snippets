snippet com "completion function" b
_${1}()
{
    COMPREPLY=()
    local cur="${COMP_WORDS[COMP_CWORD]}"
    local prev="${COMP_WORDS[COMP_CWORD-1]}"
    local line=${COMP_LINE}
    local cmd="${1##*/}"

    local opts="-v --verbose -h --help"

    if [[ ${cur} == -* ]]; then
        COMPREPLY=( $(compgen -W "${opts}" -- ${cur}) )
    fi

    return 0
}

complete -F _$1 ${2}
${0}
endsnippet


# http://redsymbol.net/articles/unofficial-bash-strict-mode/
snippet strict_mode "Bash Strict Mode"
set -euo pipefail
IFS=$'\n\t'
${0}
endsnippet
